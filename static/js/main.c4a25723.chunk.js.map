{"version":3,"sources":["icons sync /.svg$","icons/label.svg","icons/left.svg","icons/money.svg","icons/right.svg","icons/statistics.svg","views/Nomatch.tsx","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","views/Money/CategorySection.tsx","hooks/useUpdate.tsx","hooks/useRecords.tsx","lib/createld.tsx","hooks/useTags.tsx","views/Statistics.tsx","views/Money/TagsSection.tsx","components/Input.tsx","views/Money/NotesSection.tsx","views/Money/NumberPadSection/Wrapper.tsx","views/Money/NumberPadSection.tsx","views/Money/NumberPadSection/computeOutput.tsx","views/Money.tsx","components/Button.tsx","components/Center.tsx","components/Space.tsx","views/Tags.tsx","views/Tag.tsx","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","NoMatch","requireContext","require","forEach","error","console","log","Icon","props","name","children","className","reset","cs","xlinkHref","Nav","styled","nav","to","activeClassName","Wrapper","div","Main","Layout","section","CategorySection","categoryMap","useState","categoryList","category","value","c","key","onClick","onChange","useUpdate","fn","dependency","count","useRef","useEffect","current","useRecords","records","setRecords","JSON","parse","window","localStorage","getItem","setItem","stringify","addRecord","newRecord","amount","alert","tagIds","length","record","createdAt","Date","toISOString","parseInt","useTags","tags","setTags","localTags","findTag","filter","tag","findTagIndex","result","i","updateTag","obj","deleteTag","addTag","tagName","prompt","getName","t","Item","Header","h3","Statistics","setCategory","hash","r","day","format","push","array","entries","sort","a","b","date","tagId","reduce","span","index","concat","note","WrapperTagsSection","TagsSection","selectedTagIds","indexOf","Label","label","Input","NotesSection","type","target","placeholder","NumberPadSection","toString","output","_setOutput","text","textContent","onOk","split","newOutput","slice","parseFloat","setOutput","computeOutput","MyLayout","defaultFormData","Money","selected","setSelected","Button","button","Center","Space","TagList","ol","Tags","TopBar","header","InputWrapper","Tag","idString","useParams","history","useHistory","goBack","AppWrapper","App","exact","path","from","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c4a25723.chunk.js","sourcesContent":["var map = {\n\t\"./label.svg\": 39,\n\t\"./left.svg\": 40,\n\t\"./money.svg\": 41,\n\t\"./right.svg\": 42,\n\t\"./statistics.svg\": 43\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 38;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"label\",\n  \"use\": \"label-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"label\\\"><defs><style type=\\\"text/css\\\"></style></defs><path d=\\\"M457.822077 856.864422C457.822077 856.864422 457.822077 856.864422 457.822077 856.864422c-4.073782 0-7.979742-1.61887-10.859325-4.500501L159.755494 564.880371c-5.988388-5.993504-5.987365-15.705704 0.001023-21.698185l370.976126-371.251396c2.87856-2.880607 6.78452-4.499477 10.857279-4.499477l311.605947 0c4.296863 0 8.396227 1.801019 11.30344 4.965082 2.907213 3.164063 4.355191 7.401574 3.990894 11.683087l-24.39869 287.482527c-0.305969 3.607154-1.877767 6.991228-4.437056 9.55154L468.680379 852.363921C465.801818 855.245552 461.894835 856.864422 457.822077 856.864422zM192.313004 554.032302l265.510096 265.764899 356.154559-356.418572 22.511713-265.249153L547.95284 198.129476 192.313004 554.032302z\\\" p-id=\\\"1910\\\" /><path d=\\\"M661.756769 415.401941c-34.841529 0-63.186088-28.345582-63.186088-63.187111 0-34.840506 28.344558-63.186088 63.186088-63.186088s63.186088 28.345582 63.186088 63.186088C724.942857 387.05636 696.597275 415.401941 661.756769 415.401941zM661.756769 319.728952c-17.913998 0-32.486902 14.573927-32.486902 32.486902 0 17.913998 14.572904 32.487925 32.486902 32.487925s32.486902-14.573927 32.486902-32.487925C694.243671 334.301855 679.669744 319.728952 661.756769 319.728952z\\\" p-id=\\\"1911\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"left\\\"><defs><style type=\\\"text/css\\\"></style></defs><path d=\\\"M350.286 528.781L691.404 869.899q5.091 5.819 5.091 10.91t-5.091 10.183q-5.091 5.091-10.183 5.091-5.091 0-10.91-5.091l-357.119-357.119q-5.091-5.091-5.091-10.91 0-5.091 5.09100001-10.183l1.45499999-1.455q88.734-88.734 355.665-354.937 5.819-5.091 10.91-5.091t10.183 5.091q5.091 5.091 5.091 10.183 0 5.091-5.09100001 10.91l-341.118 341.118q-5.091 5.091 1e-8 10.183z\\\" p-id=\\\"598\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"money\\\"><defs><style type=\\\"text/css\\\"></style></defs><path d=\\\"M292.790857 242.468571l58.148572 11.337143a18.285714 18.285714 0 1 1-7.021715 35.84l-93.988571-18.285714a18.285714 18.285714 0 0 1-9.472-30.902857A382.793143 382.793143 0 0 1 512 128c212.077714 0 384 171.922286 384 384a382.902857 382.902857 0 0 1-29.147429 147.017143 18.285714 18.285714 0 1 1-33.792-14.043429A346.331429 346.331429 0 0 0 859.428571 512 347.428571 347.428571 0 0 0 512 164.571429a345.965714 345.965714 0 0 0-219.209143 77.897142z m237.494857 203.958858v10.715428H585.142857a18.285714 18.285714 0 1 1 0 36.571429h-54.857143v36.571428H585.142857a18.285714 18.285714 0 1 1 0 36.571429h-54.857143V658.285714a18.285714 18.285714 0 1 1-36.571428 0v-91.428571H438.857143a18.285714 18.285714 0 1 1 0-36.571429h54.857143v-36.571428H438.857143a18.285714 18.285714 0 1 1 0-36.571429h54.857143v-10.715428l-67.803429-67.766858a18.285714 18.285714 0 0 1 25.892572-25.892571L512 413.001143l60.196571-60.233143a18.285714 18.285714 0 0 1 25.892572 25.892571L530.285714 446.427429z m142.774857 323.803428a18.285714 18.285714 0 1 1 7.021715-35.913143l93.988571 18.322286a18.285714 18.285714 0 0 1 9.472 30.902857A382.793143 382.793143 0 0 1 512 896C299.922286 896 128 724.077714 128 512c0-51.090286 9.984-100.790857 29.147429-147.017143a18.285714 18.285714 0 1 1 33.792 14.043429A346.331429 346.331429 0 0 0 164.571429 512a347.428571 347.428571 0 0 0 347.428571 347.428571 345.965714 345.965714 0 0 0 219.209143-77.897142l-58.148572-11.337143z\\\" p-id=\\\"2804\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"right\\\"><defs><style type=\\\"text/css\\\"></style></defs><path d=\\\"M673.714 495.219q-85.098-85.098-341.118-341.118-5.091-5.819-5.091-10.91 0-5.091 5.091-10.183 5.091-5.091 10.183-5.091 5.091 0 10.91 5.091 119.282 119.282 357.119 357.119 5.091 5.091 5.091 10.91 0 5.091-5.091 10.183-0.727 0.727-1.455 1.455-88.734 88.734-355.665 354.937-5.819 5.091-10.91 5.091-5.091 0-10.183-5.091-5.091-5.091-5.091-10.183 0-5.091 5.091-10.91 113.464-113.464 341.118-341.118 5.091-5.091 0-10.183z\\\" p-id=\\\"1899\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"statistics\",\n  \"use\": \"statistics-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"statistics\\\"><defs><style type=\\\"text/css\\\"></style></defs><path d=\\\"M921.6 972.8V368.64h51.2v604.16h-51.2z m26.53696-689.89952L867.07712 198.144 660.6848 413.9264a23.86432 23.86432 0 0 1-34.816 0L385.65888 162.816 93.21984 468.51584a23.86944 23.86944 0 0 1-34.816 0 26.56768 26.56768 0 0 1 0-36.39808l309.84704-323.9168a23.86944 23.86944 0 0 1 34.816 0l240.20992 251.13088 188.98432-197.57056-81.05984-84.74624a25.19552 25.19552 0 0 1 24.61696-25.73312h172.31872a25.1904 25.1904 0 0 1 24.61696 25.73824v180.14208a25.1904 25.1904 0 0 1-24.61696 25.73824zM122.88 972.8H71.68v-358.4h51.2v358.4z m281.6 0H353.28V435.2h51.2v537.6z m286.72 0h-51.2v-409.6h51.2v409.6z\\\" p-id=\\\"2289\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react';\r\n\r\nfunction NoMatch() {\r\n  return (\r\n    <div>页面不存在，请检查网址路径</div>\r\n  );\r\n}\r\nexport default NoMatch;","import React from 'react'\r\nimport cs from 'classnames'\r\n//如何引入一个目录\r\nlet importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\r\ntry {importAll(require.context('icons', true, /\\.svg$/));} catch (error) {console.log(error);}\r\n\r\ntype Props ={\r\n  name?: String\r\n} &React.SVGAttributes<SVGElement>\r\n\r\nconst Icon =(props: Props)=>{\r\n  const {name,children,className,...reset} =props\r\n  return(\r\n    <svg className={cs('icon',className)}{...reset}>\r\n      <use xlinkHref={'#'+props.name}/>\r\n    </svg>\r\n  )\r\n}\r\nexport default Icon;","import styled from 'styled-components';\nimport {NavLink} from 'react-router-dom';\nimport React from 'react';\nimport Icon from './Icon';\n\nconst Nav = styled.nav`\nline-height:24px;\nbox-shadow: 0 0 3px rgba(0,0,0,0.25);\nbackground:white;\n > ul {\n display:flex;\n  > li {width: 33.333%;\n  text-align: center;\n  > a{ \n   display: flex;\n   flex-direction: column;\n   justify-content:center;\n   align-items: center;\n    .icon{\n  width:24px;\n  height:24px;\n  }\n  &.selected{\n  color:#f60;\n  .icon{\n  fill:#f60;\n  }\n  }\n   }   \n     }\n  }\n`;\nconst nav = () => {\n  return (\n    <Nav>\n      <ul>\n        <li>\n          <NavLink to=\"/tags\" activeClassName=\"selected\">\n            <Icon name=\"label\"/>\n            标签</NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/money\" activeClassName=\"selected\">\n            <Icon name=\"money\"/>\n            记账</NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/statistics\" activeClassName=\"selected\">\n            <Icon name=\"statistics\"/>\n            统计</NavLink>\n        </li>\n      </ul>\n    </Nav>\n  );\n};\nexport default nav;\n","import styled from 'styled-components';\r\nimport React from 'react'\r\nimport Nav from './Nav'\r\n\r\nconst Wrapper = styled.div`\r\nmin-height:100vh;\r\ndisplay:flex;\r\nflex-direction: column;\r\nbackground:#f5f5f5;\r\n`;\r\n\r\nconst Main = styled.div`\r\nflex-grow:1;\r\noverflow:auto:\r\n`;\r\nconst Layout =(props: any)=>{\r\n  return (\r\n    <Wrapper>\r\n      <Main className={props.className}>\r\n        {props.children}\r\n      </Main>\r\n      <Nav/>\r\n    </Wrapper>\r\n  )\r\n};\r\nexport default Layout;","import styled from 'styled-components';\r\nimport React, {useState} from 'react';\r\n\r\nconst Wrapper = styled.section`\r\nfont-size:24px;\r\n> ul{display:flex;background:#c4c4c4;\r\n  >li{width:50%;text-align:center;padding:16px 0;position:relative;&.selected::after{content:'';\r\n  display:block;height:3px;background:#333;position:absolute;bottom:0;width:100%;left:0;  \r\n  }  \r\n  }\r\n}`;\r\ntype Props = {\r\n  value: '-' | '+',\r\n  onChange: (value: '-' | '+') => void;\r\n};\r\nconst CategorySection: React.FC<Props> = (props) => {\r\n  const categoryMap = {'-': '支出', '+': '收入'};\r\n  const [categoryList] = useState<('+' | '-')[]>(['-', '+']);\r\n  const category= props.value;\r\n  return (\r\n    <Wrapper>\r\n      <ul>\r\n        {categoryList.map(c =>\r\n          <li key={c}\r\n              className={category === c ? 'selected' : ''}\r\n              onClick={() => {props.onChange(c);}}>{categoryMap[c]}\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport {CategorySection};","import {useEffect, useRef} from 'react';\r\n\r\nconst useUpdate = (fn: () => void, dependency: any[]) => {\r\n  const count = useRef(0);\r\n  useEffect(() => {\r\n    count.current += 1;\r\n  });\r\n  useEffect(() => {\r\n    if (count.current > 1) {\r\n      fn();\r\n    }\r\n  }, [fn, dependency]);\r\n};\r\nexport {useUpdate};","import {useEffect, useState} from 'react';\r\nimport {useUpdate} from './useUpdate';\r\n\r\n export type RecordItem = {\r\n  tagIds: number[],\r\n  note: string,\r\n  category: '+' | '-',\r\n  amount: number,\r\n  createdAt: string\r\n}\r\ntype newRecordItem = Omit<RecordItem, 'createdAt'>\r\nconst useRecords = () => {\r\n  const [records, setRecords] = useState<RecordItem[]>([]);\r\n  useEffect(() => {\r\n    setRecords(JSON.parse(window.localStorage.getItem('records') || '[]'));\r\n  }, []);\r\n  const addRecord = (newRecord: newRecordItem) => {\r\n    if (newRecord.amount <=0){\r\n      alert('请输入金额')\r\n      return false\r\n    }\r\n    if (newRecord.tagIds.length ===0){\r\n       alert('请选择标签');\r\n      return false;\r\n    }\r\n    const record = {...newRecord, createdAt: (new Date()).toISOString()};\r\n    setRecords([...records, record]);\r\n    return true\r\n  };\r\n  useUpdate(() => {\r\n    window.localStorage.setItem('records', JSON.stringify(records));\r\n  }, records);\r\n  return {records, addRecord};\r\n};\r\nexport {useRecords};","let id = parseInt(window.localStorage.getItem('idMax')||'0');\r\nconst createId = () => {\r\n  id += 1;\r\n  window.localStorage.setItem('idMxx',JSON.stringify(id))\r\n  return id;\r\n};\r\nexport {createId};\r\n//函数封装法","import {useEffect, useState} from 'react';\nimport {createId} from '../lib/createld';\nimport {useUpdate} from './useUpdate';\n\nconst useTags = () => {//封装一个自定义 Hook\n  const [tags, setTags] = useState<{ id: number, name: string }[]>([]);\n  useEffect(()=>{\n    let localTags =JSON.parse(window.localStorage.getItem('tags')||'[]')\n    if (localTags.length ===0){\n      localTags =[\n        {id: .1, name: '衣'},\n        {id: .2, name: '食'},\n        {id: .3, name: '住'},\n        {id: .4, name: '行'}\n      ]\n    }setTags(localTags)\n  },[])\n  useUpdate(()=>{\n    window.localStorage.setItem('tags',JSON.stringify(tags))\n  },tags)\n  const findTag = (id: number) => tags.filter(tag => tag.id === id)[0];\n  const findTagIndex = (id: number) => {\n    let result = -1;\n    for (let i = 0; i < tags.length; i++) {\n      if (tags[i].id === id) {\n        result = i;\n        break;\n      }\n    }\n    return result;\n  };\n  const updateTag = (id: number, obj: { name: string }) => {\n    setTags(tags.map(tag => tag.id === id ? {id, name:obj.name} : tag));\n    // const index =findTagIndex(id)\n    // const tagsClone =JSON.parse(JSON.stringify(tags))\n    // tagsClone.splice(index,1,{id:id,name:obj.name})\n    // setTags(tagsClone)\n  };\n  const deleteTag = (id: number) => {\n    setTags(tags.filter(tag => tag.id !== id))\n    // const index = findTagIndex(id);\n    // const tagsClone = JSON.parse(JSON.stringify(tags));\n    // tagsClone.splice(index, 1);\n    // setTags(tagsClone);\n  };\n  const addTag =()=> {\n    const tagName = window.prompt('请输入新的标签名');\n    if (tagName !== null && tagName !=='') {\n      setTags([...tags,{id:createId(),name:tagName}]);\n    }\n  }\n  const getName =(id:number)=>{\n    const tag =tags.filter(t =>t.id ===id)[0]\n    return tag ? tag.name :''\n  }\n  return {\n    tags, setTags, findTag, findTagIndex, updateTag, deleteTag,addTag,getName\n  };\n};\nexport {useTags};","import Layout from '../components/Layout';\r\nimport React, {ReactNode, useState} from 'react';\r\nimport {CategorySection} from './Money/CategorySection';\r\nimport styled from 'styled-components';\r\nimport {RecordItem, useRecords} from '../hooks/useRecords';\r\nimport {useTags} from '../hooks/useTags';\r\nimport day from 'dayjs';\r\n\r\nconst Item = styled.div`\r\ndisplay:flex;justify-content:space-between;font-size:18px;line-height: 20px;\r\npadding:10px 16px;margin-top:5px;background:white;\r\n> .note{margin-right: auto;margin-left: 16px;color: #999;}\r\n> .amount{color:#333;}\r\n`;\r\nconst Header = styled.h3`\r\npadding:10px 0 0 20px;font:inherit;line-height:20px;color:#f60;\r\n`;\r\n\r\nfunction Statistics() {\r\n  const [category, setCategory] = useState<'-' | '+'>('-');\r\n  const {records} = useRecords();\r\n  const {getName} = useTags();\r\n  const hash: { [K: string]: RecordItem[] } = {};\r\n  const selectedRecords = records.filter(r => r.category === category);\r\n  selectedRecords.forEach( r=> {\r\n    const key = day(r.createdAt).format('YYYY年MM月DD日');\r\n    if (!(key in hash)) {\r\n      hash[key] = [];\r\n    }\r\n    hash[key].push(r);\r\n  });\r\n  const array = Object.entries(hash).sort((a, b) => {\r\n    if (a[0] === b[0]) return 0;\r\n    if (a[0] > b[0]) return -1;\r\n    if (a[0] < b[0]) return 1;\r\n    return 0;\r\n  });\r\n  return (\r\n    <Layout>\r\n      <CategorySection value={category} onChange={value => setCategory(value)}/>\r\n      {array.map(([date, records]) =>\r\n        <div>\r\n          <Header>\r\n            {date}\r\n          </Header>\r\n          <div>\r\n            {records.map(r => {\r\n              return <Item>\r\n                <div className=\"tags oneLine\">\r\n                  {r.tagIds.map(tagId => <span key={tagId}>{getName(tagId)}</span>)\r\n                    .reduce((result, span, index, array) =>\r\n                      result.concat(index < array.length - 1 ? [span, ','] : [span]), [] as ReactNode[])\r\n                  }\r\n                </div>\r\n                {r.note && <div className=\"note\">{r.note}</div>}\r\n                <div className=\"amount\">￥{r.amount}</div>\r\n                {/*{day(r.createdAt).format('YYYY年MM月DD日')}*/}\r\n              </Item>;\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div>\r\n\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Statistics;","import styled from 'styled-components';\nimport React from 'react';\nimport {useTags} from '../../hooks/useTags';\n\nconst WrapperTagsSection = styled.section`\nbackground:white;padding: 12px 16px;\nflex-grow:1;display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-start;\n> ol { margin: 0 -12px;\n  > li {\n background:#ffe793;color:#666;border-radius:18px;display:inline-block;\n padding:3px 18px;font-size: 14px;margin: 8px 12px;\n &.selected{background: #f60;color:white;}\n    }\n}\n> button{\n\nbackground:none;border:none;\npadding:2px 4px;border-bottom:1px solid #f60;\ncolor:#666;margin-top: 8px;\n}`;\ntype Props = { value: number[];onChange:(selectedChunksResult: number[])=>void; }\nconst TagsSection: React.FC<Props> = (props) => {\n  const {tags, addTag} = useTags();\n  const selectedTagIds = props.value;\n\n    const onToggleTag = (tagId: number) => {\n    const index = selectedTagIds.indexOf(tagId);\n    if (index >= 0) {\n      //如果tag已被选中，就复制所有没有被选中的tag,作为新的 selectedTag\n      props.onChange(selectedTagIds.filter(t => t !== tagId));\n    } else {\n      props.onChange([...selectedTagIds, tagId]);\n    }\n  };\n  const getClass = (tagId: number) => selectedTagIds.indexOf(tagId) >= 0 ? 'selected' : '';\n  return (\n    <WrapperTagsSection>\n      <ol>\n        {tags.map(tag => <li key={tag.id} onClick={() => {onToggleTag(tag.id);}} className={getClass(tag.id)}>{tag.name}</li>)}\n      </ol>\n      <button onClick={addTag}>新增标签</button>\n    </WrapperTagsSection>\n  );\n};\nexport {TagsSection};","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Label = styled.label`\r\n display:flex;align-items: center;\r\n  > span {margin-right: 16px ;white-space: nowrap;color:#f60;}\r\n  > input {display: block;width: 100%;height:44px;background: none;border:none;}\r\n  `;\r\ntype Props = {\r\n  label: string;\r\n} & React.InputHTMLAttributes<HTMLInputElement>\r\nconst Input: React.FC<Props> = (props) => {\r\n  const {label,...reset} = props;\r\n  return (\r\n    <Label>\r\n      <span>{props.label}</span>\r\n      <input {...reset}\r\n        //受控组件\r\n        // value={note}\r\n        // onChange={(e) => setNote(e.target.value)}\r\n        //非受控组件\r\n        //      ref={refInput}\r\n        //      defaultValue={note}\r\n        //      onBlur={onBlur}\r\n      />\r\n    </Label>\r\n  );\r\n};\r\nexport {Input};\r\n","import styled from 'styled-components';\r\nimport React, {ChangeEventHandler} from 'react';\r\nimport {Input} from '../../components/Input';\r\n\r\nconst Wrapper = styled.section`\r\nbackground: #f5f5f5;padding: 14px 16px;font-size:14px;`;\r\ntype Props ={value: string;onChange:(value: string)=>void}\r\nconst NotesSection: React.FC<Props> = (props) => {\r\n  const note = props.value;\r\n  const onChange:ChangeEventHandler<HTMLInputElement> = (e) => {\r\n      props.onChange(e.target.value);\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <Input label=\"备注\" type=\"text\" value={note} onChange={onChange} placeholder=\"添加备注信息\">\r\n        {/*<span>备注</span>*/}\r\n        {/*<input type=\"text\" placeholder=\"在这里添加备注\"*/}\r\n        {/*  //受控组件*/}\r\n        {/*  // value={note}*/}\r\n        {/*  // onChange={(e) => setNote(e.target.value)}*/}\r\n        {/*  //非受控组件*/}\r\n        {/*       ref={refInput}*/}\r\n        {/*       defaultValue={note}*/}\r\n        {/*       onBlur={onBlur}*/}\r\n        {/*/>*/}\r\n      </Input>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport {NotesSection};","import styled from 'styled-components';\r\n\r\nconst Wrapper = styled.section`\r\ndisplay:flex;flex-direction:column;\r\n> .output{background:white;font-size: 36px;line-height:72px;text-align:right;\r\npadding: 0 16px;box-shadow:inset 0 -5px 5px -5px rgba(0,0,0,0.25),inset 0 5px 5px -5px rgba(0,0,0,0.25);\r\n}\r\n> .pad{\r\n> button{font-size:18px;float: left;width:25%;height:64px;border:none;\r\n&.ok{height:128px;float:right;}\r\n&.zero{width:50%;}\r\n&:nth-child(1){background:#f2f2f2;}\r\n&:nth-child(2),&:nth-child(5){background:#e0e0e0;}\r\n&:nth-child(3),&:nth-child(6),&:nth-child(9){background:#d3d3d3;}\r\n&:nth-child(4),&:nth-child(7),&:nth-child(10){background:#c1c1c1;}\r\n&:nth-child(8),&:nth-child(11),&:nth-child(13){background:#b8b8b8;}\r\n&:nth-child(12){background:#9a9a9a;}\r\n&:nth-child(14){background:#a9a9a9;}\r\n}\r\n}`;\r\nexport {Wrapper};\r\n","import {Wrapper} from './NumberPadSection/Wrapper';\nimport React, {useState} from 'react';\nimport {computeOutput} from './NumberPadSection/computeOutput';\n\ntype Props = {\n  value: number;\n  onChange: (value: number) => void;\n  onOk?: () => void;\n}\nconst NumberPadSection: React.FC<Props> = (props) => {\n  // const output = props.value.toString();\n  const [output,_setOutput] =useState(props.value.toString())\n  const setOutput = (output: string) => {\n    let newOutput;\n    if (output.length > 16) {\n      newOutput = output.slice(0, 16);\n    } else if (output.length === 0) {\n      newOutput = '0';\n    } else {\n      newOutput = output;\n    }\n    _setOutput(newOutput)\n    props.onChange(parseFloat(newOutput));\n  };\n  const onClickButtonWrapper = (e: React.MouseEvent) => {\n    const text = (e.target as HTMLButtonElement).textContent;\n    if (text === null) {return;}\n    if (text === 'OK') {\n      if(props.onOk){\n        props.onOk();\n      }\n    }\n    if ('0123456789.'.split('').concat(['删除', '清空']).indexOf(text) >= 0) {\n      setOutput(computeOutput(text, output));\n    }\n  };\n  return (\n    <Wrapper>\n      <div className=\"output\">{output}</div>\n      <div className=\"pad\" onClick={onClickButtonWrapper}>\n        <button>1</button>\n        <button>2</button>\n        <button>3</button>\n        <button>删除</button>\n        <button>4</button>\n        <button>5</button>\n        <button>6</button>\n        <button>清空</button>\n        <button>7</button>\n        <button>8</button>\n        <button>9</button>\n        <button className=\"ok\">OK</button>\n        <button className=\"zero\">0</button>\n        <button className=\"dot\">.</button>\n      </div>\n    </Wrapper>\n  );\n};\nexport {NumberPadSection};","const computeOutput = (text: string, output = '0') => {\r\n  switch (text) {\r\n    case '0':\r\n    case '1':\r\n    case '2':\r\n    case '3':\r\n    case '4':\r\n    case '5':\r\n    case '6':\r\n    case '7':\r\n    case '8':\r\n    case '9':\r\n      if (output === '0') {\r\n        return text;\r\n      } else {\r\n        return output + text;\r\n      }\r\n    case '.':\r\n      if (output.indexOf('.') >= 0) {return output;}\r\n      return output + '.';\r\n    case '删除':\r\n      if (output.length === 1) {return '';} else {return output.slice(0, -1);}\r\n    case '清空':\r\n      return ('');\r\n    default:\r\n      return '';\r\n  }\r\n};\r\nexport {computeOutput};","import Layout from '../components/Layout';\r\nimport React, {useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport {TagsSection} from './Money/TagsSection';\r\nimport {NotesSection} from './Money/NotesSection';\r\nimport {CategorySection} from './Money/CategorySection';\r\nimport {NumberPadSection} from './Money/NumberPadSection';\r\nimport {useRecords} from '../hooks/useRecords';\r\n\r\n\r\nconst MyLayout = styled(Layout)`display:flex;flex-direction:column;`;\r\ntype Category = '-' | '+'\r\n\r\nconst defaultFormData = {\r\n  tagIds: [] as number[],\r\n  note: '',\r\n  category: '-' as Category,\r\n  amount: 0\r\n};\r\n\r\nfunction Money() {\r\n  const [selected, setSelected] = useState(defaultFormData);\r\n  const {addRecord} = useRecords();\r\n  const onChange = (obj: Partial<typeof selected>) => {\r\n    setSelected({...selected, ...obj});\r\n  };\r\n  const submit = () => {\r\n    if (addRecord(selected)) {\r\n      alert('保存成功');\r\n      setSelected(defaultFormData);\r\n    }\r\n  };\r\n  return (\r\n    <MyLayout>\r\n      {/*{JSON.stringify(selected)}*/}\r\n      <TagsSection value={selected.tagIds} onChange={tagIds => onChange({tagIds})}/>\r\n      <NotesSection value={selected.note}\r\n                    onChange={note => onChange({note})}\r\n      />\r\n      <CategorySection value={selected.category}\r\n                       onChange={category => onChange({category})}\r\n      />\r\n      <NumberPadSection value={selected.amount}\r\n                        onChange={amount => onChange({amount})}\r\n                        onOk={submit}/>\r\n    </MyLayout>\r\n  );\r\n}\r\n\r\nexport default Money;","import styled from 'styled-components';\r\n\r\nconst Button = styled.button`\r\nfont-size: 18px;border:none;padding:8px 18px;background:#f60;border-radius: 4px;color:white;\r\n`;\r\nexport {Button}","import styled from 'styled-components';\r\n\r\nconst Center = styled.div`\r\ndisplay:flex;justify-content: center;align-items: center;flex-direction: column;\r\n`;\r\nexport {Center}","import styled from 'styled-components';\r\n\r\nconst Space = styled.div`\r\nheight:16px;margin-top:20px;\r\n`;\r\nexport {Space}","import Layout from '../components/Layout';\nimport React from 'react';\nimport {useTags} from '../hooks/useTags';\nimport styled from 'styled-components';\nimport Icon from '../components/Icon';\nimport {Link} from 'react-router-dom';\nimport {Button} from '../components/Button';\nimport {Center} from '../components/Center';\nimport {Space} from '../components/Space';\n\nconst TagList = styled.ol`\nfont-size:16px;background:white;\n> li{\nborder-bottom:1px solid #e5e5e5;line-height:20px;margin-left:16px;\n> a{padding:12px 16px 12px 0;display:flex;justify-content:space-between;align-item:center;}\n}\n`;\n\n\nfunction Tags() {\n  const {tags,addTag} = useTags();\n  return (\n    <Layout>\n      <TagList>\n        {tags.map(tag =>\n          <li key={tag.id}>\n            <Link to={'/tags/' + tag.id}>\n              <span className=\"oneLine\">{tag.name}</span>\n              <Icon name=\"right\"/>\n            </Link>\n          </li>)}\n      </TagList>\n      <Center>\n        <Space/>\n        <Button onClick={addTag}>新增标签</Button>\n      </Center>\n    </Layout>\n  );\n}\n\nexport default Tags;","import React from 'react';\r\nimport {useTags} from '../hooks/useTags';\r\nimport {useParams,useHistory} from 'react-router-dom';\r\nimport Layout from '../components/Layout';\r\nimport Icon from '../components/Icon';\r\nimport {Button} from '../components/Button';\r\nimport styled from 'styled-components';\r\nimport {Input} from '../components/Input';\r\nimport {Center} from 'components/Center';\r\nimport {Space} from '../components/Space';\r\n\r\ntype Params = {\r\n  id: string\r\n}\r\nconst TopBar = styled.header`\r\ndisplay:flex;justify-content: space-between;align-items:center;line-height: 20px;padding: 14px;background:white;\r\n> span{font-size:16px;}\r\n`;\r\nconst InputWrapper = styled.div`\r\nbackground: white;padding: 0 16px;margin-top: 16px;\r\n`;\r\nconst Tag: React.FC = () => {\r\n  const {findTag, updateTag, deleteTag} = useTags();\r\n  let {id: idString} = useParams<Params>();\r\n  const tag = findTag(parseInt(idString));\r\n  const history = useHistory()\r\n  const onclickBack =()=>{\r\n    history.goBack()\r\n  }\r\n  return (\r\n    <Layout>\r\n      <TopBar>\r\n        <Icon name=\"left\" onClick={onclickBack}/>\r\n        <span>编辑标签</span>\r\n        <span> </span>\r\n      </TopBar>\r\n      {\r\n        tag ? <div><InputWrapper>\r\n          <Input label=\"标签名\" type=\"text\" placeholder=\"请输入新的标签名\" value={tag.name}\r\n                 onChange={(e) => {updateTag(tag.id, {name: e.target.value});}}/>\r\n        </InputWrapper>\r\n          <Center>\r\n            <Space/>\r\n            <Space/>\r\n            <Button onClick={() => deleteTag(tag.id)}>删除标签</Button>\r\n          </Center></div> : <Center>删除成功</Center>\r\n      }\r\n    </Layout>\r\n  );\r\n};\r\nexport {Tag};","import React from 'react';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\n\nimport NoMatch from 'views/Nomatch';\nimport Statistics from 'views/Statistics';\nimport Money from 'views/Money';\nimport Tags from 'views/Tags';\nimport styled from 'styled-components';\nimport {Tag} from './views/Tag';\n\nconst AppWrapper =styled.div`color:#333`\nfunction App() {\n  return (\n    <AppWrapper>\n    <Router>\n          <Switch>\n            <Route exact path=\"/tags/:id\">\n              <Tag/>\n            </Route>\n            <Route exact path=\"/tags\">\n              <Tags/>id\n            </Route>\n            <Route exact path=\"/money\">\n              <Money/>\n            </Route>\n            <Route exact path=\"/statistics\">\n              <Statistics/>\n            </Route>\n            <Redirect exact from=\"/\" to=\"/money\"/>\n            <Route path=\"*\">\n              <NoMatch/>\n            </Route>\n          </Switch>\n    </Router>\n    </AppWrapper>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'index.scss'\n\nReactDOM.render(\n  //普通模式\n  <App/>,\n  //严格模式\n  // <React.StrictMode>\n  //   <App />\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}